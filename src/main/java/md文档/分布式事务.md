#### 分布式ACP 
- A(Availability)可用性：在集群中一部分节点故障后，集群整体是否还能响应客户端请求
- C(Consistency)一致性： 分布式系统中所有数据备份，在同一时刻值是否相同
- P(Patition tolerance)分区容错：以实际效果而言，分区相当于对通信时限的要求。系统如果不能在时限内达成数据一致性，就意味着发生分区的情况，必须就当前操作在C和A直接做出选择
#### 事务特征
- 原子性：事务是一个不可分割的工作单元
- 一致性：事务前后数据完整性必须保持一直，要不全部成功，要么全部失败
- 隔离性：一个事务的不能被其他事务干涉，多个并发事务之间相互隔离
- 持久性：事务一旦提交，对数据的修改是永久性的
#### 分布式协议
- 事务协议：两阶段提交协议、三阶段提交协议
- 一致性协议：Paxos、Raft
- 保活协议：租约协议、心跳协议
- 复制协议：主副本复制协议、NWR复制协议、Replicated-write协议
##### XA两阶段提交方案
- 定义：保证多个节点操作的原子性，要么所有节点全部执行成功，要不全部失败
- 思路：参与者将操作成败通知协调者，再由协调者根据所有参与者的反馈情报决定各参与者是否要提交操作或者中止操作
###### 请求阶段
 1. 协调者节点向所有节点询问是否可以执行提交操作（vote），并开始等待各参与者节点的响应
 2. 参与者节点执行询问发起发起为止的所有事务操作，并将undo和Redo信息写入日志。
 3. 各参与者节点响应协调者节点发起询问，如果参与者节点的事务操作实际执行成功，则返回一个【同意】消息；如果参与者节点的事务实际执行失败，则返回一个【中止】消息
 ###### 提交阶段
    如果协调者收到一个参与者的失败消息或者超时，直接给每个参与者发送回滚消息，否者，发送提交消息，参与者根据协调者的指令执行提交或者回滚操作，释放所有事务锁资源
##### TCC方案
- 定义：一种柔性解决分布式事务解决方案
    1. try：预留业务资源/数据校验
        > 完成所有业务检查（一致性）
        > 预留必须业务资源（准隔离性）
    2. Confirm:确认执行业务操作
        > 真正执行业务
        > 不作任何业务检查
        > 只使用Try阶段预留的业务资源
        > Confirm操作满足幂等性
    3. Cancel:取消业务操作
        > 释放Try阶段预留的业务资源
        > Cancel操作满足幂等性


